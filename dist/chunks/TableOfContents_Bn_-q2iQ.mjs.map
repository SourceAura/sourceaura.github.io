{"version":3,"file":"TableOfContents_Bn_-q2iQ.mjs","sources":["../../src/components/FormattedDate.astro","../../src/components/TableOfContentsHeading.astro","../../src/components/TableOfContents.astro"],"sourcesContent":["---\ninterface Props {\n  date: Date;\n}\n\nconst { date } = Astro.props;\n---\n\n<time datetime={date.toISOString()}>\n  {\n    date.toLocaleDateString(\"en-US\", {\n      month: \"long\",\n      day: \"2-digit\",\n      year: \"numeric\",\n    })\n  }\n</time>\n","---\nimport type { Heading } from \"./TableOfContents.astro\";\nimport Link from \"./Link.astro\";\n\n// https://kld.dev/building-table-of-contents/\n\nconst { heading } = Astro.props;\n---\n\n<li class=\"list-inside list-disc px-6 py-1.5 text-sm\">\n  <Link href={\"#\" + heading.slug} underline>\n    {heading.text}\n  </Link>\n  {\n    heading.subheadings.length > 0 && (\n      <ul class=\"translate-x-3\">\n        {heading.subheadings.map((subheading: Heading) => (\n          <Astro.self heading={subheading} />\n        ))}\n      </ul>\n    )\n  }\n</li>\n","---\nimport TableOfContentsHeading from \"./TableOfContentsHeading.astro\";\n\n// https://kld.dev/building-table-of-contents/\nconst { headings } = Astro.props;\nconst toc = buildToc(headings);\n\nexport interface Heading {\n  depth: number;\n  slug: string;\n  text: string;\n}\n\nfunction buildToc(headings: Heading[]) {\n  const toc: Heading[] = [];\n  const parentHeadings = new Map();\n  headings.forEach((h) => {\n    const heading = { ...h, subheadings: [] };\n    parentHeadings.set(heading.depth, heading);\n    if (heading.depth === 2) {\n      toc.push(heading);\n    } else {\n      parentHeadings.get(heading.depth - 1).subheadings.push(heading);\n    }\n  });\n  return toc;\n}\n---\n\n<details\n  open\n  class=\"animate rounded-lg border border-black/15 dark:border-white/20\"\n>\n  <summary>Table of Contents</summary>\n  <nav class=\"\">\n    <ul class=\"py-3\">\n      {toc.map((heading) => <TableOfContentsHeading heading={heading} />)}\n    </ul>\n  </nav>\n</details>\n\n<style>\n  summary {\n    @apply cursor-pointer rounded-t-lg px-3 py-1.5 font-medium transition-colors;\n  }\n\n  summary:hover {\n    @apply bg-black/5 dark:bg-white/5;\n  }\n\n  details[open] summary {\n    @apply bg-black/5 dark:bg-white/5;\n  }\n</style>\n"],"names":["Astro","$$render","$$maybeRenderHead","$$addAttribute","$$Astro","$$createAstro","$$createComponent","$$renderComponent","Link","$$result","headings","toc","TableOfContentsHeading"],"mappings":"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"}