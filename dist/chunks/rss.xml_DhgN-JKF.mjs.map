{"version":3,"file":"rss.xml_DhgN-JKF.mjs","sources":["../../src/pages/rss.xml.js"],"sourcesContent":["import rss from \"@astrojs/rss\";\nimport { SITE } from \"@consts\";\nimport { getCollection } from \"astro:content\";\n\nexport async function GET(context) {\n  const blog = (await getCollection(\"blog\")).filter((post) => !post.data.draft);\n\n  const projects = (await getCollection(\"projects\")).filter(\n    (project) => !project.data.draft,\n  );\n\n  const items = [...blog, ...projects].sort(\n    (a, b) => new Date(b.data.date).valueOf() - new Date(a.data.date).valueOf(),\n  );\n\n  return rss({\n    title: SITE.TITLE,\n    description: SITE.DESCRIPTION,\n    site: context.site,\n    items: items.map((item) => ({\n      title: item.data.title,\n      description: item.data.description,\n      pubDate: item.data.date,\n      link: `/${item.collection}/${item.slug}/`,\n    })),\n  });\n}\n"],"names":[],"mappings":";;;;AAIO,KAAe,CAAA,QAAA,CAAA,GAAG,CAAC,OAAO,CAAE,CAAA,CAAA;AACnC,CAAE,CAAA,KAAA,CAAM,IAAI,CAAG,CAAA,CAAA,CAAC,MAAM,aAAa,CAAC,CAAM,IAAA,CAAA,CAAC,CAAE,CAAA,MAAM,CAAC,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAChF;AACA,CAAE,CAAA,KAAA,CAAM,QAAQ,CAAA,CAAA,CAAG,CAAC,KAAA,CAAM,aAAa,CAAC,CAAA,QAAA,CAAU,CAAC,CAAA,CAAE,MAAM,CAAA;AAC3D,CAAI,CAAA,CAAA,CAAA,CAAC,OAAO,CAAK,CAAA,CAAA,CAAA,CAAA,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAA;AACpC,CAAA,CAAA,CAAG,CAAC;AACJ;AACA,CAAE,CAAA,KAAA,CAAM,KAAK,CAAA,CAAA,CAAG,CAAC,CAAA,CAAA,CAAG,IAAI,CAAA,CAAE,CAAG,CAAA,CAAA,QAAQ,CAAC,CAAC,IAAI,CAAA;AAC3C,CAAA,CAAA,CAAA,CAAI,CAAC,CAAC,CAAE,CAAA,CAAC,CAAK,CAAA,CAAA,CAAA,CAAA,GAAA,CAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAE,CAAA,CAAA,CAAA,CAAG,GAAI,CAAA,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAE,CAAA,CAAA;AAC/E,CAAA,CAAA,CAAG,CAAC;AACJ;AACA,CAAE,CAAA,MAAA,CAAO,GAAG,CAAC,CAAA;AACb,CAAA,CAAA,CAAA,CAAI,KAAK,CAAA,CAAE,IAAI,CAAC,KAAK,CAAA;AACrB,CAAA,CAAA,CAAA,CAAI,WAAW,CAAA,CAAE,IAAI,CAAC,WAAW,CAAA;AACjC,CAAA,CAAA,CAAA,CAAI,IAAI,CAAA,CAAE,OAAO,CAAC,IAAI,CAAA;AACtB,CAAI,CAAA,CAAA,CAAA,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAChC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,KAAK,CAAE,CAAA,IAAI,CAAC,IAAI,CAAC,KAAK,CAAA;AAC5B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,WAAW,CAAE,CAAA,IAAI,CAAC,IAAI,CAAC,WAAW,CAAA;AACxC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,OAAO,CAAE,CAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAA;AAC7B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,IAAI,CAAE,CAAA,CAAC,CAAC,CAAA,CAAE,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;AAC/C,CAAA,CAAA,CAAA,CAAA,CAAK,CAAC,CAAC,CAAA;AACP,CAAA,CAAA,CAAG,CAAC,CAAC;AACL,CAAA;;"}