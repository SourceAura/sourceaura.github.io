---
import Head from "@components/Head.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import PageFind from "@components/PageFind.astro";
import Quasar from "@components/Quasar.astro";
import Qi from "@components/Qi.astro";
import { SITE } from "@consts";

type Props = {
  title?: string;
  description?: string;
  image?: string;
};

const { title, description, image } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <Head title={`${title ?? SITE.TITLE}`} description={description} />

    <!-- âœ… Pagefind metadata (THIS IS THE KEY) -->
    {title && <meta data-pagefind-meta="title" content={title} />}

    {
      description && (
        <meta data-pagefind-meta="description" content={description} />
      )
    }

    {image && <meta data-pagefind-meta="image" content={image} />}
  </head>

  <body>
    <!-- Background layers -->
    <Quasar />
    <Qi />

    <!-- UI -->
    <Header />
    <main>
      <slot />
    </main>
    <Footer />

    <!-- Search -->
    <PageFind />
  </body>
</html>
