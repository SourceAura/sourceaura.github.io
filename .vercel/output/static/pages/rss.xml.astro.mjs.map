{"version":3,"file":"rss.xml.astro.mjs","sources":["../../../../src/pages/rss.xml.js"],"sourcesContent":["import rss from \"@astrojs/rss\";\nimport { SITE } from \"@consts\";\nimport { getCollection } from \"astro:content\";\n\nexport async function GET(context) {\n  const petals = (await getCollection(\"petals\")).filter(post => !post.data.draft);\n\n  // const blog = (await getCollection(\"blog\")).filter((post) => !post.data.draft);\n\n  // const projects = (await getCollection(\"projects\")).filter(\n  //   (project) => !project.data.draft,\n  // );\n\n  // const items = [...petals, ...blog, ...projects].sort(\n  //   (a, b) => new Date(b.data.date).valueOf() - new Date(a.data.date).valueOf(),\n  // );\n  \n  const items = [...petals].sort(\n    (a, b) => new Date(b.data.date).valueOf() - new Date(a.data.date).valueOf(),\n  );\n\n  return rss({\n    title: SITE.TITLE,\n    description: SITE.DESCRIPTION,\n    site: context.site,\n    items: items.map((item) => ({\n      title: item.data.title,\n      description: item.data.description,\n      pubDate: item.data.date,\n      link: `/${item.collection}/${item.slug}/`,\n    })),\n  });\n}\n"],"names":[],"mappings":"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"}