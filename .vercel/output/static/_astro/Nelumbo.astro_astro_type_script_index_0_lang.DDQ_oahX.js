(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"bfb17e619a9ea6f3318aa1da0ddee1261ba9c316"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},a=new e.Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="12e1573a-6000-4598-afb1-aa735da52f5a",e._sentryDebugIdIdentifier="sentry-dbid-12e1573a-6000-4598-afb1-aa735da52f5a")})()}catch{}const c=document.getElementById("petal-shell"),B=document.getElementById("petal-ring"),A=[...B.querySelectorAll(".carousel-item")];c.querySelector(".carousel-viewport");const v=A.length,b=360/v,$=location.pathname==="/";$&&c.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation()},!0);let p=!1;function E(){c.toggleAttribute("data-petals-open",p)}window.addEventListener("gesture:close-petals",()=>{r=!1,l=0,p=!1,E()});window.addEventListener("keydown",e=>{if(e.key==="Escape"){if(u){x();return}p&&(r=!1,l=0,p=!1,E())}});window.addEventListener("pointerdown",e=>{if(!e.target.closest(".carousel-item.active")){if(u){x();return}p&&(r=!1,l=0,p=!1,E())}},{passive:!0});const K=.96,Z=.06,k=3.2,z=.015;let u=!1;const S=96;let n=0,f=0,D=!1,F=null,R=-1,g=null,y=0,T=0,M=!1;const Y=14,N=140;let o=0,l=0,r=!1;function x(){u&&(u=!1,r=!1,o=0,l=0,c.removeAttribute("data-revealed"),d())}function O(){const e=getComputedStyle(document.documentElement).getPropertyValue("--pulse"),a=Number(e);return Number.isFinite(a)?a:.5}let C=300;const I=matchMedia("(max-width: 768px)");function _(){C=I.matches?220:300}I.addEventListener("change",_);_();const h=(e,a,s)=>Math.max(a,Math.min(s,e)),q=e=>Math.round(e/b)*b;function j(e,a=!1){const s=-e*b;if(g=s,a){n=s,f=0,y=0,P(),d();return}const t=s-n;y=h(t*.12,-18,18),f=0,d()}function P(){if(n===F)return;F=n;const e=O();B.style.transform=`rotateY(${n+y}deg)`;const a=(n%360+360)%360,s=(Math.round(-a/b)%v+v)%v;s!==R&&(R=s,A.forEach((i,m)=>i.classList.toggle("active",m===s)));const t=Math.floor(v/2||1);A.forEach((i,m)=>{let w=Math.abs(m-s);w=Math.min(w,v-w);const L=Math.min(1,w/t),H=1-L;i.style.opacity=1-L*.7,i.style.setProperty("--petal-depth",L.toFixed(4)),i.style.setProperty("--petal-prox",H.toFixed(4)),i.style.setProperty("--panel-scale",(1-L*.12).toFixed(4));const U=m===s?22+(e-.5)*10:0,X=m===s?o:0;i.style.transform=`translate(-50%, -50%)
         rotateY(${m*b}deg)
         translateZ(${C+U+X}px)`})}function V(){if(!M)return;const a=(O()-.5)*2,s=K*(1-a*.015),t=Z*(1+a*.06);if(u?(f=0,n=q(n)):(n+=f,f*=s),g!==null){const i=g-n;n+=i*t,y*=.78,Math.abs(i)<.01&&Math.abs(y)<.2&&(n=g,f=0,y=0,g=null)}if(r||(l*=.82,o+=l,o+=(0-o)*.12,!u&&o>=S&&(u=!0,l=0,f=0,c.setAttribute("data-revealed","")),u&&o<S*.6&&(u=!1,c.removeAttribute("data-revealed")),Math.abs(o)<.2&&(o=0,l=0)),g===null&&Math.abs(f)<z){const i=q(n);if(n+=(i-n)*t,Math.abs(i-n)<.001){n=i,f=0,M=!1,P();return}}P(),T=requestAnimationFrame(V)}function d(){M||(M=!0,T=requestAnimationFrame(V))}function G(){p||(p=!0,E(),d())}c.addEventListener("pointermove",e=>{D&&(r||(f=h(e.movementX*.12,-k,k),n+=e.movementX*.12),e.movementY<-1&&(r=!0),r&&(l=h(-e.movementY*.6,-8,14),o=h(o+l,0,140)),d())},{passive:!0});c.addEventListener("pointerup",()=>{D=!1,r=!1},{passive:!0});A.forEach(e=>{const a=e.dataset.href,s=Number(e.dataset.index);e.addEventListener("pointerdown",t=>{t.pointerType==="mouse"&&t.button!==0||(t.preventDefault(),t.stopPropagation(),G(),j(s,!1),D=!0,r=!1,l=0,e.setPointerCapture?.(t.pointerId),d())},{passive:!1}),e.addEventListener("keydown",t=>{if(t.key==="Enter"){location.href=a;return}if(t.key===" "){t.preventDefault(),r=!r,l=0,d();return}if(t.key==="ArrowUp"){t.preventDefault(),o=h(o+Y,0,N),r=!0,d();return}if(t.key==="ArrowDown"){t.preventDefault(),o=h(o-Y,0,N),o===0&&(r=!1),d();return}t.key==="Escape"&&(r=!1,l=0,d())})});P();E();function J(){x(),cancelAnimationFrame(T),I.removeEventListener("change",_)}window.addEventListener("astro:before-swap",J);document.addEventListener("visibilitychange",()=>{document.hidden&&x()});
