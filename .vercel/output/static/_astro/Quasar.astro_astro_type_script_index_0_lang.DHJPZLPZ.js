(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};s.SENTRY_RELEASE={id:"bfb17e619a9ea6f3318aa1da0ddee1261ba9c316"}}catch{}})();try{(function(){var s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},i=new s.Error().stack;i&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[i]="fff9a14c-e8bf-4342-b49e-d746bfb53445",s._sentryDebugIdIdentifier="sentry-dbid-fff9a14c-e8bf-4342-b49e-d746bfb53445")})()}catch{}const l=210,v=.05,_=2,r=(s,i,e)=>s+(i-s)*e,o=(s,i,e)=>Math.max(i,Math.min(e,s));class b{constructor(i){this.spread=i,this.reset(0,0,i)}reset(i,e,t){this.x=i+(Math.random()-.5)*t,this.y=e+(Math.random()-.5)*t,this.z=Math.random(),this.xPrev=this.x,this.yPrev=this.y}update(i,e,t,n,h){this.xPrev=this.x,this.yPrev=this.y,this.z+=n*.07*h,this.x+=(this.x-i)*n*this.z*h,this.y+=(this.y-e)*n*this.z*h;const a=t/2;(this.x<i-a||this.x>i+a||this.y<e-a||this.y>e+a)&&this.reset(i,e,t)}draw(i,e){const t=Math.min(this.z,1);i.strokeStyle=e?`rgba(0,0,0,${t})`:`rgba(255,255,255,${t})`,i.lineWidth=Math.min(this.z*.6,2),i.beginPath(),i.moveTo(this.xPrev,this.yPrev),i.lineTo(this.x,this.y),i.stroke()}}class p extends HTMLElement{constructor(){super(),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d",{alpha:!0}),this.stars=[],this.lastTime=0,this.lastDraw=0,this.isLight=!1,this.base={cx:0,cy:0,spread:0},this.influence={x:.5,y:.5,a:0,d:0},this.influenceLive={x:.5,y:.5,a:0,d:0},this._mounted=!1,this._raf=0,this._w=0,this._h=0,this._isMobile=matchMedia("(max-width: 768px)").matches||/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent),this._dprCap=this._isMobile?1.6:2,this._fps=this._isMobile?30:60,this._minFrameMs=1e3/this._fps,this._resizeQueued=!1,this._themeMO=null,this._onPetalLight=i=>{const e=i.detail||{};this.influence.x=o(e.x??.5,0,1),this.influence.y=o(e.y??.5,0,1),this.influence.a=o(e.a??0,0,1),this.influence.d=o(e.d??0,0,1)},this._onVisibility=()=>{if(document.hidden){this._raf&&cancelAnimationFrame(this._raf),this._raf=0;return}this.lastTime=performance.now(),this.lastDraw=0,this._raf||(this._raf=requestAnimationFrame(this.frame))},this._onResize=()=>this.queueResize()}connectedCallback(){this._mounted||(this._mounted=!0,this.appendChild(this.canvas),window.visualViewport?window.visualViewport.addEventListener("resize",this._onResize,{passive:!0}):window.addEventListener("resize",this._onResize,{passive:!0}),window.addEventListener("orientationchange",this._onResize,{passive:!0}),window.addEventListener("petal:light",this._onPetalLight,{passive:!0}),document.addEventListener("visibilitychange",this._onVisibility,{passive:!0}),this.resize(!0),this.watchTheme(),this.lastTime=performance.now(),this._raf=requestAnimationFrame(this.frame))}disconnectedCallback(){this._raf&&cancelAnimationFrame(this._raf),this._raf=0,window.visualViewport?window.visualViewport.removeEventListener("resize",this._onResize):window.removeEventListener("resize",this._onResize),window.removeEventListener("orientationchange",this._onResize),window.removeEventListener("petal:light",this._onPetalLight),document.removeEventListener("visibilitychange",this._onVisibility),this._themeMO?.disconnect?.(),this._themeMO=null,this._mounted=!1}queueResize(){this._resizeQueued||(this._resizeQueued=!0,requestAnimationFrame(()=>{this._resizeQueued=!1,this.resize(!1)}))}resize(i){const e=window.visualViewport?Math.round(window.visualViewport.width):Math.round(window.innerWidth),t=window.visualViewport?Math.round(window.visualViewport.height):Math.round(window.innerHeight);if(!i&&e===this._w&&t===this._h)return;this._w=e,this._h=t;const n=Math.min(window.devicePixelRatio||1,this._dprCap);this.canvas.width=Math.max(1,Math.floor(e*n)),this.canvas.height=Math.max(1,Math.floor(t*n)),this.ctx.setTransform(n,0,0,n,0,0),this.base.cx=e/2,this.base.cy=t/2,this.base.spread=Math.max(e,t)*1.3;const h=this._isMobile?Math.round(l*.72):l;this.stars.length!==h&&(this.stars=Array.from({length:h},()=>new b(this.base.spread)));for(const a of this.stars)a.reset(this.base.cx,this.base.cy,this.base.spread)}watchTheme(){const i=()=>{this.isLight=document.documentElement.classList.contains("light")};i(),this._themeMO=new MutationObserver(i),this._themeMO.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}frame=i=>{if(document.hidden)return;if(this.lastDraw&&i-this.lastDraw<this._minFrameMs){this._raf=requestAnimationFrame(this.frame);return}this.lastDraw=i;const e=Math.min((i-this.lastTime)/16.67,_);this.lastTime=i,this.influenceLive.x=r(this.influenceLive.x,this.influence.x,.08),this.influenceLive.y=r(this.influenceLive.y,this.influence.y,.08),this.influenceLive.a=r(this.influenceLive.a,this.influence.a,.06),this.influenceLive.d=r(this.influenceLive.d,this.influence.d,.06);const t=this._w||(window.visualViewport?window.visualViewport.width:window.innerWidth),n=this._h||(window.visualViewport?window.visualViewport.height:window.innerHeight),h=18,a=(this.influenceLive.x-.5)*2,u=(this.influenceLive.y-.5)*2,c=this.base.cx+a*h*this.influenceLive.a,f=this.base.cy+u*h*this.influenceLive.a,w=1-.1*this.influenceLive.a,m=this.base.spread*w;this.ctx.clearRect(0,0,t,n);for(const d of this.stars)d.update(c,f,m,v,e),d.draw(this.ctx,this.isLight);this._raf=requestAnimationFrame(this.frame)}}customElements.get("quasar-background")||customElements.define("quasar-background",p);
